{% extends "base.html" %}

{% block title %}
    用户登录
{% endblock %}

{% block main %}
    <div class="form_div">
        <form class="form" action="{{ url_for('main.login') }}" method="post" id="form">
            <h3>欢迎使用，请登录！</h3>
            <br/>
            <input type="text" name="username" class="username" placeholder="请输入您的用户名！">
            <input type="password" name="password" class="password" placeholder="请输入您的用户密码！">
            <input type="submit" class="submit_button" id="submit_button" value="登录">
            <button type="reset" class="reset_button">重置</button>
        </form>
    </div>

    <style type="text/css">
        .main {
            border: solid 3px #d1d1d1;
        }

        div.form_div {
            margin: auto;
            padding-top: 20px;
            height: 300px;
            width: 500px;
        }

        .form {
            text-align: center;
            width: 220px;
            height: 200px;
            margin: auto;
        }

        .form > input {
            height: 40px;
            width: 240px;
            margin-bottom: 10px;
            font-size: 16px;
            /*display: block;*/
        }

        .form > input.submit_button {
            height: 45px;
            width: 100px;
            border-radius: 5px;
            font-size: 16px;
            background-color: #ffcb7f;
        }

        .form > button.reset_button {
            margin-left: 12px;
            height: 45px;
            width: 100px;
            border-radius: 5px;
            font-size: 16px;
            background-color: #ffcb7f;
        }

        @-webkit-keyframes tu {
            0% {
                -webkit-transform: scale(1);
                background-color: #eee;
                border-radius: 10px;
            }
            40% {
                -webkit-transform: scale(1.5);
                background-color: #bbb;
                border-radius: 10px;
            }
            100% {
                -webkit-transform: scale(1);
                background-color: #eee;
                border-radius: 10px;
            }
        }

        .form > button:hover {
            -webkit-animation-name: tu;
            -webkit-animation-duration: 2s;
            -webkit-animation-iteration-count: infinite;
        }

        .form > input.submit_button:hover {
            -webkit-animation-name: tu;
            -webkit-animation-duration: 2s;
            -webkit-animation-iteration-count: infinite;
        }

    </style>

    <script src="{{ url_for('static', filename='js/jquery.js') }}"></script>
    <script>
        $(document).ready(function () {
            $("#submit_button").click(function () {
                var username = $('.username').val();
                var password = $('.password').val();
                if (username == '') {
                    alert("请输入账号");
                    return false;
                }

                else {
                    if (password == '') {
                        alert("请输入密码");
                        return false;
                    }
                    else
                        $('#form').submit();
                }

                {#                var username = $('.username').val();#}
                {#                var password = $('.password').val();#}
                {#                alert(username + ' \n' + password);#}
                {#                $.post(#}
                {#                                        '{{ url_for('main.login') }}',#}
                {#                        {username: username, password: password},#}
                {#                        function () {#}
                {#                            window.location.href = 'http://www.baidu.com';#}
                {#                        }#}
                {#                );#}
            });

        });


    </script>
{% endblock %}
